(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{5476:function(e,t,a){e.exports=a(5674)},5671:function(e,t){},5674:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(176),o=a.n(c),i=a(12),l=a(13),s=a(15),u=a(14),m=a(16),p=a(54),h=a(37),g=a(32),d=a.n(g),f=a(46),E=a(66),b=a(47),v=a(177),y=a.n(v),k=a(22),j=a.n(k),x={getUsers:function(){return j.a.get("/api/users")},getUser:function(e){return j.a.get("/api/users/"+e)},saveUser:function(e){return j.a.post("/api/users",e)},createPlayer:function(e){return j.a.post("/api/table/join",e)},leaveQueue:function(e){return j.a.delete("/api/table/leave/"+e)},leaveTable:function(e){return j.a.get("/api/table/leave/"+e)}},O=function(){return window.history.replaceState({},document.title,window.location.pathname)},C=r.a.createContext(),w=function(){return Object(n.useContext)(C)},T=function(e){var t=e.component,a=e.path,c=Object(E.a)(e,["component","path"]),o=w(),i=o.loading,l=o.isAuthenticated,s=o.loginWithRedirect;Object(n.useEffect)((function(){i||l||function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({appState:{targetUrl:a}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,l,s,a]);return r.a.createElement(h.b,Object.assign({path:a,render:function(e){return!0===l?r.a.createElement(t,e):null}},c))},I=a(30),S=a.n(I),N=a(31),B=a.n(N),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).joinGame=function(e){e.preventDefault();var t=a.context.user;a.socket=a.props.socket,x.getUser(t.email).then((function(e){a.props.setName(e.data.username),x.createPlayer({name:e.data.username,cash:e.data.cash,img:e.data.image,socketId:a.props.socketId}).then((function(e){a.setState({currentPos:e.data.quePos+1,queueLength:e.data.que.length,joined:!0})}))}))},a.leaveQueue=function(e){e.preventDefault();var t=a.context.user;x.leaveQueue(t.nickname).then((function(){a.setState({currentPos:999999,queueLength:999999,joined:!1})}))},a.state={currentPos:999999,queueLength:999999,joined:!1,prime:!1},a.socket=a.props.socket,a.socket.on("ADDPLAYER",(function(e){a.state.joined&&a.setState({queueLength:e.que.length})})),a.socket.on("PRIME",(function(){a.props.position>=0&&a.setState({prime:!0})})),a.socket.on("LEAVEQUE",(function(e){var t=a.context.user;if(a.state.joined){var n=e.que.map((function(e){return e.name})).indexOf(t.nickname);a.setState({currentPos:n+1,queueLength:e.que.length})}})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context,t=e.isAuthenticated,a=e.loginWithPopup,c=e.logout;return this.state.prime?r.a.createElement(h.a,{to:"/table"}):r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},!t&&r.a.createElement(B.a,{onClick:function(){return a({})}},"Log in"),t&&(this.state.joined?r.a.createElement(B.a,{disabled:!0,onClick:this.joinGame},"Join Game"):r.a.createElement(B.a,{onClick:this.joinGame},"Join Game")),t&&r.a.createElement(B.a,null,r.a.createElement(p.b,{to:"/profile"},"Profile")),t&&r.a.createElement(B.a,{onClick:function(){return c()}},"Log out")),r.a.createElement(S.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},this.state.joined&&r.a.createElement("div",null,r.a.createElement("h3",null,"Current Queue Position: ",this.state.currentPos," out of"," ",this.state.queueLength),r.a.createElement(B.a,{onClick:this.leaveQueue},"Leave Queue"))))}}]),t}(n.Component);A.contextType=C;var R=A,P=a(11),L=a(65),D=a(2),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getStyle=function(e,t,a){return e.didFold?a.folded:e.isAllIn?a.allIn:e.position===t?a.active:a.paper},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props,a=t.playerInfo,c=t.actionTo;return r.a.createElement(n.Fragment,null,r.a.createElement(D.h,{className:this.getStyle(a,c,e)},r.a.createElement(D.g,{container:!0},r.a.createElement(D.g,{item:!0,xs:4},r.a.createElement(D.b,{className:e.avatar,alt:"Player Avatar",src:a.img?a.img:"https://placehold.it/200"})),r.a.createElement(D.g,{item:!0,xs:12,sm:8},r.a.createElement(D.k,{variant:"body1"},a.name),r.a.createElement(D.k,{variant:"subtitle1"},a.chips)))))}}]),t}(n.Component),M=Object(P.withStyles)({paper:{padding:10,borderRadius:"5vh",flexGrow:1,margin:5},avatar:{border:"3px solid #424242"},active:{border:"3px solid #00ff00",padding:10,borderRadius:"5vh",flexGrow:1,margin:5},folded:{opacity:.5,padding:10,borderRadius:"5vh",flexGrow:1,margin:5},allIn:{border:"3px solid #ff6600",padding:10,borderRadius:"5vh",flexGrow:1,margin:5}})(G),U=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.props.classes,a=this.props.src;return r.a.createElement(n.Fragment,null,r.a.createElement(D.h,{className:t.paper,style:a.length>0?{backgroundImage:"url(".concat(a,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{}}),r.a.createElement(D.h,null),r.a.createElement(D.h,null),r.a.createElement(D.h,null),r.a.createElement(D.h,null))}}]),t}(n.Component),V=Object(P.withStyles)({paper:{height:100,width:70,margin:5}})(U),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.props.classes;return"D"===this.props.type?r.a.createElement("div",{className:t.dealer}):"SB"===this.props.type?r.a.createElement("div",{className:t.sb}):"BB"===this.props.type?r.a.createElement("div",{className:t.bb}):"C"===this.props.type?r.a.createElement("div",{className:t.chip}):r.a.createElement("div",{className:t.empty})}}]),t}(n.Component),W=Object(P.withStyles)({dealer:{height:"30px",width:"30px",background:"url('./assets/img/dealer.png')",backgroundSize:"30px 30px"},sb:{height:"30px",width:"30px",background:"url('./assets/img/SB.png')",backgroundSize:"30px 30px"},bb:{height:"30px",width:"30px",background:"url('./assets/img/BB.png')",backgroundSize:"30px 30px"},chip:{height:"30px",width:"30px",background:"url('./assets/img/chips.png')",backgroundSize:"30px 30px"},empty:{height:"30px",width:"30px"}})(F),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.c,{variant:"contained",color:"inherit",onClick:this.handleClickOpen},"Hands"),r.a.createElement(D.d,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(D.f,null,r.a.createElement("img",{alt:"rankings",src:"https://www.mathworks.com/matlabcentral/mlc-downloads/downloads/submissions/17579/versions/1/screenshot.jpg"})),r.a.createElement(D.e,null,r.a.createElement(D.c,{variant:"outlined",onClick:this.handleClose,color:"secondary"},"Close"))))}}]),t}(r.a.Component),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getToken=function(e,t,a){var n,r;return 2===a.length?(n=e,(r=e+1)===a.length&&(r=0)):((n=e+1)===a.length&&(n=0),(r=n+1)===a.length&&(r=0)),t===e?"D":t===n?"SB":t===r?"BB":"x"},a.didFold=function(e,t){return e[t].didFold?{opacity:"0.5"}:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.props.classes,a=this.props,n=a.dealer,c=a.pot,o=a.players,i=a.nextBetAction,l=a.flop,s=a.turn,u=a.river,m=a.actionTo;return r.a.createElement(D.g,{container:!0},r.a.createElement(D.g,{item:!0,xs:3}),r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,justify:"center",alignItems:"center",className:t.item},o[0]?r.a.createElement(M,{playerInfo:o[0],actionTo:m}):null,r.a.createElement(D.g,{item:!0,xs:12},r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement(W,{type:this.getToken(n,0,o)}),r.a.createElement(W,{type:"x"}))))),r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,justify:"center",alignItems:"center",className:t.item},o[1]?r.a.createElement(M,{playerInfo:o[1],actionTo:m}):null,r.a.createElement(D.g,{item:!0,xs:12},r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement(W,{type:this.getToken(n,1,o)}),r.a.createElement(W,{type:"C"}))))),r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,justify:"flex-end"},r.a.createElement(D.c,{color:"inherit",variant:"contained",onClick:i,className:t.button},"Next Bet Action"),r.a.createElement(q,null))),r.a.createElement(D.g,{container:!0},r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,className:t.item},r.a.createElement(D.g,{item:!0,xs:11},o[7]?r.a.createElement(M,{playerInfo:o[7],actionTo:m}):null),r.a.createElement(D.g,{item:!0,xs:1},r.a.createElement(W,{type:this.getToken(n,7,o)}),r.a.createElement(W,{type:"C"}))),r.a.createElement(D.g,{container:!0},r.a.createElement(D.g,{item:!0,xs:11},o[6]?r.a.createElement(M,{playerInfo:o[6],actionTo:m}):null),r.a.createElement(D.g,{item:!0,xs:1},r.a.createElement(W,{type:this.getToken(n,6,o)}),r.a.createElement(W,{type:"C"})))),r.a.createElement(D.g,{item:!0,xs:6},r.a.createElement(D.g,{container:!0,height:1,className:t.cardContainer,justify:"center",alignItems:"center"},r.a.createElement(V,{src:l.length>0?l[0].frontImage:""}),r.a.createElement(V,{src:l.length>0?l[1].frontImage:""}),r.a.createElement(V,{src:l.length>0?l[2].frontImage:""}),r.a.createElement(V,{src:s?s.frontImage:""}),r.a.createElement(V,{src:u?u.frontImage:""})),r.a.createElement(D.g,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("img",{className:t.potChips,alt:"Total Pot",src:"./assets/img/potChips.png"}),r.a.createElement(D.k,{variant:"h6"},"$".concat(c)))),r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,className:t.item},r.a.createElement(D.g,{item:!0,xs:1},r.a.createElement(W,{type:this.getToken(n,2,o)}),r.a.createElement(W,{type:"C"})),r.a.createElement(D.g,{item:!0,xs:11},o[2]?r.a.createElement(M,{playerInfo:o[2],actionTo:m}):null)),r.a.createElement(D.g,{container:!0},r.a.createElement(D.g,{item:!0,xs:1},r.a.createElement(W,{type:this.getToken(n,3,o)}),r.a.createElement(W,{type:"x"})),r.a.createElement(D.g,{item:!0,xs:11},o[3]?r.a.createElement(M,{playerInfo:o[3],actionTo:m}):null,r.a.createElement(D.g,{item:!0,xs:12})),r.a.createElement(D.g,{container:!0},r.a.createElement(D.g,{item:!0,xs:12})))),r.a.createElement(D.g,{item:!0,xs:3}),r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,justify:"center",alignItems:"center",className:t.item},r.a.createElement(D.g,{item:!0,xs:12},r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement(W,{type:this.getToken(n,5,o)}),r.a.createElement(W,{type:"x"}))),o[5]?r.a.createElement(M,{playerInfo:o[5],actionTo:m}):null)),r.a.createElement(D.g,{item:!0,xs:3},r.a.createElement(D.g,{container:!0,justify:"center",alignItems:"center",className:t.item},r.a.createElement(D.g,{item:!0,xs:12},r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement(W,{type:this.getToken(n,4,o)}),r.a.createElement(W,{type:"x"}))),o[4]?r.a.createElement(M,{playerInfo:o[4],actionTo:m}):null)),r.a.createElement(D.g,{item:!0,xs:3})))}}]),t}(n.Component),z=Object(P.withStyles)({item:{height:"15vh"},button:{margin:5},cardContainer:{height:120},potChips:{height:"100px"}})(Q),J=a(103),H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.context.logout,a=this.props.classes,n=this.props.leaveTable;return r.a.createElement(D.a,{position:"static",className:a.grow},r.a.createElement(D.j,null,r.a.createElement("img",{className:a.logo,alt:"Poker Logo",src:"./assets/img/logo.png"}),r.a.createElement(D.k,{variant:"h6",color:"inherit",className:a.grow},"Poker"),r.a.createElement(D.c,{color:"secondary",variant:"contained",className:a.button,onClick:n},r.a.createElement(J.b,null),"Return to Lobby"),r.a.createElement(D.c,{color:"secondary",variant:"contained",className:a.button,onClick:function(){return t()}},r.a.createElement(J.a,null),"Logout")))}}]),t}(n.Component);H.contextType=C;var K=Object(P.withStyles)({grow:{flexGrow:1},button:{marginLeft:5},logo:{height:"50px",filter:"invert(1)"}})(H),Y=a(184),_=a(181),$=a(182),Z=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(_.a)({},n,r)),a.sendTypingMessage()},a.sendMessage=function(e){e.preventDefault(),console.log(a.state.message),a.socket.emit("SEND_MESSAGE",{author:a.state.username,message:a.state.message}),a.setState({message:"",allMessages:a.state.allMessages.filter((function(e){return e!=="".concat(a.state.username," is typing...")}))})},a.state={allMessages:[],message:"",username:""},a.socket=a.props.socket,a.socket.on("RECEIVE_MESSAGE",(function(e){console.log("RECEIVING MESSAGE SOCKET"),n(e)}));var n=function(e){console.log(e),a.setState({allMessages:[].concat(Object(Y.a)(a.state.allMessages),[e])})};return a.sendTypingMessage=function(){a.socket.emit("typing",a.state.username)},a.socket.on("isTyping",(function(e){a.state.allMessages.includes("".concat(e," is typing..."))||(console.log("SOCKET IS TYPING"),n("".concat(e," is typing...")))})),a.socket.on("FLASH",(function(e){console.log(e)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.props.classes;return r.a.createElement(D.h,{className:t.grow},r.a.createElement(D.k,{className:t.header,align:"center",variant:"h6"},"Chat"),r.a.createElement(D.h,{className:t.inner},r.a.createElement(D.h,null,this.state.allMessages.map((function(e){return Object($.isEmpty)(e.author)?r.a.createElement("div",null,e):r.a.createElement("div",null,e.author,": ",e.message)}))),r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(D.i,{key:"username",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleInputChange,label:"Name",className:t.textField,margin:"normal"}),r.a.createElement(D.i,{key:"message",name:"message",placeholder:"message",value:this.state.message,onChange:this.handleInputChange,label:"Message",className:t.textField,margin:"normal"}),r.a.createElement(D.c,{onClick:this.sendMessage},"Post"))))}}]),t}(n.Component),X=Object(P.withStyles)({container:{display:"flex",flexWrap:"wrap"},grow:{flexGrow:1,height:"35vh",marginTop:5,background:"#1C2022"},header:{color:"#fff"},inner:{margin:5,padding:10,background:"#D5D5D5",height:"25vh"}})(Z),ee=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.props.classes,a=this.props.src;return r.a.createElement(n.Fragment,null,r.a.createElement(D.h,{className:t.paper,style:a.length>0?{backgroundImage:"url(".concat(a,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{}}),r.a.createElement(D.h,null),r.a.createElement(D.h,null),r.a.createElement(D.h,null),r.a.createElement(D.h,null))}}]),t}(n.Component),te=Object(P.withStyles)({paper:{height:100,width:70,margin:5}})(ee),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={sliderValue:0},a.handleSliderValueChange=function(e){var t=e.target.value;console.log(t),a.setState({sliderValue:t})},a.BETTING=function(t){j.a.get("api/table/bet/".concat(e.position,"/").concat(t)).then((function(e){console.log(e)}))},a.DEAL=function(e){e.preventDefault(),j.a.get("api/table/deal")},a.FLOP=function(e){e.preventDefault(),j.a.get("api/table/flop")},a.TURN=function(e){e.preventDefault(),j.a.get("api/table/turn")},a.RIVER=function(e){e.preventDefault(),j.a.get("api/table/river")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this,a=this.props.classes,n=this.props,c=n.cards,o=n.position,i=n.actionTo,l=n.minBet,s=n.bigBlind,u=n.availableChips;return r.a.createElement(D.h,{className:a.grow},r.a.createElement(D.k,{variant:"h6",align:"center",className:a.header},"Your Hand"),r.a.createElement(D.h,{className:a.inner},r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement(te,{src:c.length>0?c[0].frontImage:""}),r.a.createElement(te,{src:c.length>0?c[1].frontImage:""})),r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement(D.c,{disabled:o!==i,color:"primary",variant:"contained",className:a.button,onClick:function(){return t.BETTING(-1)}},"Fold"),0===l?r.a.createElement(D.c,{disabled:o!==i,color:"primary",variant:"contained",className:a.button,onClick:function(){return t.BETTING(0)}},"check"):null,0===l?r.a.createElement(D.c,{disabled:o!==i,color:"primary",variant:"contained",className:a.button,onClick:function(){return t.BETTING(t.state.sliderValue)}},"Bet"):null,l>0?r.a.createElement(D.c,{disabled:o!==i,color:"primary",variant:"contained",className:a.button,onClick:function(){return t.BETTING(l)}},"Call"):null,l>0?r.a.createElement(D.c,{disabled:o!==i,color:"primary",variant:"contained",className:a.button,onClick:function(){return t.BETTING(t.state.sliderValue)}},"raise"):null),r.a.createElement(D.g,{container:!0,justify:"center"},r.a.createElement("input",{type:"range",min:s,max:u,name:"sliderValue",value:this.state.sliderValue,onChange:this.handleSliderValueChange,step:"1"}),r.a.createElement(D.k,{variant:"h6"},"$",this.state.sliderValue))))}}]),t}(n.Component),ne=Object(P.withStyles)({grow:{flexGrow:1,height:"35vh",bottom:0,marginTop:5,background:"#1C2022"},button:{margin:5},header:{color:"#fff"},inner:{margin:5,padding:10,background:"#D5D5D5"}})(ae),re=Object(P.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#1C2022"},secondary:L.amber,tertiary:{main:"#c62828"}}}),ce=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){var t=this.props.classes,a=this.props,n=a.leaveTable,c=a.dealer,o=a.pot,i=a.socket,l=a.nextBetAction,s=a.flop,u=a.turn,m=a.river,p=a.playerCards,h=a.players,g=a.position,d=a.actionTo,f=a.minBet,E=a.bigBlind;return console.log("bigBlind in table view: ",E),console.log("availableChips in table view: ",h[g].chips),r.a.createElement(P.MuiThemeProvider,{theme:re},r.a.createElement(S.a,{container:!0,className:t.background},r.a.createElement(K,{leaveTable:n}),r.a.createElement(z,{actionTo:d,dealer:c,pot:o,players:h,socket:i,nextBetAction:l,flop:s,turn:u,river:m,position:g}),r.a.createElement(S.a,{container:!0,className:t.grow},r.a.createElement(S.a,{item:!0,xs:12,md:6},r.a.createElement(ne,{socket:i,cards:p,position:g,actionTo:d,minBet:f,bigBlind:E,availableChips:h[g].chips})),r.a.createElement(S.a,{item:!0,xs:12,md:6},r.a.createElement(X,{socket:i})))))}}]),t}(n.Component),oe=Object(P.withStyles)({grow:{flexGrow:1,bottom:0},background:{backgroundImage:"radial-gradient(#1a643f, #1a643f, black)"}})(ce),ie=function(){var e=w(),t=e.loading,a=e.user;return t||!a?r.a.createElement("div",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:a.picture,alt:"Profile"}),r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email))},le=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ie,null))},se=a(183),ue=a.n(se),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nextBetAction=function(){void 0!==a.state.actionTo&&j.a.get("/api/table/bet/".concat(a.state.actionTo,"/").concat(a.state.minBet))},a.leaveTable=function(){console.log("LEAVE"),j.a.get("/api/table/leave/"+a.state.name)},a.setName=function(e){a.setState({name:e})},a.state={playerCards:[],playerInfo:[],flop:[],hands:[],pot:0,handAction:0,position:-1,name:"",index:0,dealerIndex:0,socketId:"",availableChips:0},a.socket=ue.a.connect(),a.socket.on("connect",(function(){a.setState({socketId:a.socket.id})})),a.socket.on("PRIME",(function(e){console.log("PRIME");var t=e.players;console.log(t),t.forEach((function(e){e.name===a.state.name&&(a.setState({position:e.position,availableChips:e.chips}),console.log("availableChips from App: "+a.state.availableChips))}));var n=e.players,r=e.dealerIndex,c=e.turn,o=e.river,i=e.bigBlind;a.setState({playerInfo:n,handAction:0,dealerIndex:r,flop:[],playerCards:[],turn:c,river:o,bigBlind:i})})),a.socket.on("DEALCARDS",(function(e){j.a.get("/api/player/".concat(a.state.position,"/cards")).then((function(e){a.setState({playerCards:e.data.playerCards}),j.a.get("/api/table/bet/-1/0")}))})),a.socket.on("DOFLOP",(function(e){a.setState({flop:e.flop}),j.a.get("/api/table/bet/-1/0")})),a.socket.on("DOTURN",(function(e){a.setState({turn:e.turn}),j.a.get("/api/table/bet/-1/0")})),a.socket.on("DORIVER",(function(e){a.setState({river:e.river}),j.a.get("/api/table/bet/-1/0")})),a.socket.on("CALCULATEHANDS",(function(e){a.setState({hands:e.hands})})),a.socket.on("PLACEBET",(function(e){var t=e.players,n=e.currentBet,r=e.minBet,c=e.position,o=e.pot;a.setState({playerInfo:t,currentBet:n,minBet:r,actionTo:c,pot:o}),console.log("Next bet is "+r+" to the player at position "+c)})),a.socket.on("LEAVETABLE",(function(e){console.log(e),a.setState({playerCards:[],playerInfo:[],flop:[],hands:[],pot:0,handAction:0,position:-1,dealerIndex:0,availableChips:0}),e.name===a.state.name&&(window.location.href="/")})),a.socket.on("LEAVEQUE",(function(e){console.log(e)})),a.socket.on("PAYOUT",(function(e){var t=e.players,n=e.pot,r=e.hands,c=e.payouts;a.setState({playerInfo:t,pot:n}),console.log(r),console.log(c)})),a.socket.on("ERROR",(function(e){console.log("=============ERROR============="),console.log(e),console.log("==============END==============")})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(h.d,null,r.a.createElement(T,{path:"/table"},r.a.createElement(oe,{actionTo:this.state.actionTo,leaveTable:this.leaveTable,pot:this.state.pot,nextBetAction:this.nextBetAction,players:this.state.playerInfo,socket:this.socket,flop:this.state.flop,turn:this.state.turn,river:this.state.river,playerCards:this.state.playerCards,position:this.state.position,dealer:this.state.dealerIndex,minBet:this.state.minBet,bigBlind:this.state.bigBlind})),r.a.createElement(T,{path:"/profile"},r.a.createElement(le,null)),r.a.createElement(h.b,{path:"/"},r.a.createElement(R,{socket:this.socket,setName:this.setName,socketId:this.state.socketId,position:this.state.position}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?O:a,o=Object(E.a)(e,["children","onRedirectCallback"]),i=Object(n.useState)(),l=Object(b.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(),p=Object(b.a)(m,2),h=p[0],g=p[1],v=Object(n.useState)(),k=Object(b.a)(v,2),j=k[0],w=k[1],T=Object(n.useState)(!0),I=Object(b.a)(T,2),S=I[0],N=I[1],B=Object(n.useState)(!1),A=Object(b.a)(B,2),R=A[0],P=A[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()(o);case 2:if(t=e.sent,w(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,u(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:i=e.sent,g(i);case 19:N(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},P(!0),e.prev=2,e.next=5,j.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,P(!1),e.finish(10);case 13:return e.next=15,j.getUser();case 15:a=e.sent,g(a),u(!0),x.getUser(a.email).then((function(e){e.data?console.log("User already exists!"):x.saveUser({username:a.nickname,email:a.email,image:a.picture}).then(console.log("User has been added!")).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}));case 19:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,j.handleRedirectCallback();case 3:return e.next=5,j.getUser();case 5:t=e.sent,N(!1),u(!0),g(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(C.Provider,{value:{isAuthenticated:s,user:h,loading:S,popupOpen:R,loginWithPopup:L,handleRedirectCallback:D,getIdTokenClaims:function(){return j.getIdTokenClaims.apply(j,arguments)},loginWithRedirect:function(){return j.loginWithRedirect.apply(j,arguments)},getTokenSilently:function(){return j.getTokenSilently.apply(j,arguments)},getTokenWithPopup:function(){return j.getTokenWithPopup.apply(j,arguments)},logout:function(){return j.logout.apply(j,arguments)}}},t)}),{domain:"unc-bootcamp-project03.auth0.com",client_id:"DErnKZ3a7naISsp3FqWWu7Ja593gKtF1",redirect_uri:window.location.origin,onRedirectCallback:function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[5476,1,2]]]);
//# sourceMappingURL=main.f4a094f7.chunk.js.map